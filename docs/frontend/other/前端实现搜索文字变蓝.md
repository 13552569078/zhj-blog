## 背景

我们在开发功能时候，很多时候会涉及到搜索，文本活着下拉的模块，如果配到对应文字，则匹配到的文字变蓝，效果如下，比如微信的效果

![微信截图\_20240826095355.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/49f5ca2c64ca44388a7b5d478f1c0d46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5bCP5rKz:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiNDIyMjU2MjE0MTIxMDQ3OCJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1755072226&x-orig-sign=GGwp%2BDVxvjfFnRQnK48jfMk4Wlo%3D)

## 正则匹配对应文字，增加特殊标记，标蓝

原理：`replaceAll`匹配对应文字，借助`vue`中的`v-html`来实现特殊标识

vue3写法及效果如下

```js
<template>
  <div class="w-40">
    <el-input v-model="input" placeholder="请输入内容"></el-input>
    <h3 v-for="item in conList" :key="item.key" v-html="item.label"></h3>
  </div>
</template>
<script lang="ts" setup>
const input = ref();

const conList = computed(() => {
  return list.value.map(item => {
    return {
      ...item,
      label: item.label.includes(input.value) ? item.label.replaceAll(input.value, `<span style="color:red;">${input.value}</span>`) : item.label
    };
  });
});

const list = ref([
  {
    label: "张三丰张",
    key: "1"
  },
  {
    label: "张无忌",
    key: "2"
  },
  {
    label: "白眉鹰王",
    key: "3"
  },
  {
    label: "韦一笑",
    key: "4"
  },
  {
    label: "金毛狮王",
    key: "55"
  }
]);
</script>
<style lang="scss" scoped>
.w-40 {
  width: 40%;
}
</style>


```

效果如下：

![微信截图\_20240826111105.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/7a2c8b419c564cd5a5a3dd160791f829~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5bCP5rKz:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiNDIyMjU2MjE0MTIxMDQ3OCJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1755072226&x-orig-sign=pPh%2FvuQkd%2BUykxYwiG43gDZ1yqM%3D)

## 如果你是纯Html写法，可参考如下

```js
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>搜索并高亮显示</title>
    <style>
        .highlight {
            color: red;
        }
    </style>
</head>

<body>
    <div id="content">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore
        magna aliqua.
        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
        Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
    </div>
    <input type="text" id="search" placeholder="Search text...">

    <script>
        document.getElementById('search').addEventListener('input', function () {
            var searchTerm = this.value.toLowerCase();
            var content = document.getElementById('content');
            if (searchTerm) {
                content.innerHTML = content.textContent.replace(new RegExp(searchTerm, 'gi'), match => `<span class="highlight">${match}</span>`);
            } else {
                content.innerHTML = content.textContent;
            }
        });
    </script>
</body>

</html>
```

![image.png](https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/07e31479e6ca4876b76f55559ae72f82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiJ5bCP5rKz:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiNDIyMjU2MjE0MTIxMDQ3OCJ9&rk3s=f64ab15b&x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&x-orig-expires=1755072226&x-orig-sign=W4X5hh3%2BwO2BkqJHSXxAF23Qfsk%3D)
